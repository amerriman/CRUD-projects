<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <meta charset="utf-8">
  <title>CRUD Projects</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/main.css">
</head>
<body ng-controller="ProjectController">

  <div class="container">

    <div class="add-project">

      <h1 class="text-center" ng-hide="edit">Add a Project</h1>
      <h1 class="text-center" ng-show="edit">Edit a Project</h1>


      <form name="projectForm">
        <div class="form-group">
          <input type="text" name="name" class="form-control" id="name" placeholder="Enter the project name" ng-model="project.name" required>
        </div>
        <div class="form-group">
          <input type="text" name="description" class="form-control" id="description" placeholder="Enter the project description" ng-model="project.description" required>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" id="tags" name="tags" placeholder="Enter the project tags" ng-model="project.tags" required>
        </div>
        <div class="checkbox">
          <label>
            <input ng-model="project.group" type="checkbox"> Group Project
          </label>
        </div>
        <div class="form-group" ng-show="project.group">
          <input type="text" name="groupMembers" class="form-control" id="group-members" placeholder="Enter the group member names" ng-model="project.group_members">
        </div>
          <!--   <div class="form-group"> -->
          <button type="submit" class="btn btn-primary btn-block" ng-hide="edit" ng-click="postProject()">Submit</button>
          <button ng-show="edit" type="submit" class="btn btn-primary btn-block" ng-click="updateProject()">Update</button>
          <!-- </div> -->
        </form>

      </div>
    </div>
      <br><hr>

    <div class="tableContainer">
      <div class="message-section" ng-show="success">
        <p class="alert alert-info" role="alert" id="message">{{message}}</p>
      </div>

      <div class="project-section">
        <h2 class="text-center"></h2>
        <table class="table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Tags</th>
              <th>Group Project?</th>
              <th>Group Members</th>
              <th colspan='3'></th>
            </tr>
          </thead>
          <tbody id="all-projects">
            <tr ng-repeat="project in projects">
              <td>{{project.name}}</td>
              <td>{{project.description}}</td>
              <td ng-repeat="tags in project.tags">{{tags}}</td>
              <td>{{project.group}}</td>
              <td ng-repeat="group_members in project.group_members">{{group_members}}</td>
              <td class="text-right">
              <!--add ngclicks to the buttons, have to pass through project.id to have the right info for the put request-->

                <button class="btn btn-primary" ng-click="editProject(project._id)"><span class="glyphicon glyphicon-pencil"></span></button>
                 <button class="btn btn-danger" ng-click="deleteProject(project._id)"><span class="glyphicon glyphicon-trash"></span></button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>



     <script type="text/javascript" src="//code.jquery.com/jquery-2.1.4.min.js"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
     <script type="text/javascript" src="/js/main.js"></script>
     <script src="./js/app.js" type="text/javascript"></script>
     <script src="./js/controllers.js" type="text/javascript"></script>
     <script src="./js/services.js" type="text/javascript"></script>
   </body>
   </html>
